{"version":3,"file":"table_vis.min.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/_DOM/className.js","../src/index.js","../src/_Init/initTable.js","../src/_Init/_InitTitle/rowTitle.js","../src/_Init/_InitTitle/colTitle.js","../src/_Init/_InitBtn/initBtn.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","'use strict';\n\nconst className={\n  addClass:function(ele,name){\n      // get the origin class name\n      let originClassName = ele.className;\n      // if it has class name , make a blank, else make nothing\n      let addClassName = originClassName +((originClassName==\"\")?\"\":\" \")+name;\n      ele.className = addClassName;\n      // callback(ele);\n  },\n  removeClass:function (ele,name){\n      let originClassName =\" \"+ele.className+\" \";\n      originClassName = originClassName.replace(/(\\s+)/gi, \" \");\n      // remove the class name\n      let removedName = originClassName.replace(\" \"+name+\" \", \" \");\n      // remove the useless space\n      removedSpace = removedName.replace(/(^\\s+)|(\\s+$)/g, \"\");\n      ele.className = removedSpace;\n  }\n}\nexport default className;\n","'use strict';\nimport initTable from './_Init/initTable';\n// import bar from './Module_Bar/bar';\n// import line from './Module_Line/line';\n// import pie from './Module_Pie/pie' ;\n// import point from './Module_Point/point';\n//\n// import boxPlot from './Module_BoxPlot/boxPlot';\n\nconst table_vis={\n    initial:false,\n    vis:initTable //init the tBody, make it clickable\n    // bar:bar\n    // line:line,\n    // pie:pie,\n    // point:point,\n    // boxPlot:boxPlot\n}\n/*!\n *  exports the module\n */\nexport default table_vis;\n","'use strict'\n// Initial the table.\nimport './table_vis_style.css'\nimport className from '../_DOM/className'\n// init Click Btn\nimport initBtn from './_InitBtn/initBtn'\nimport colTitle from './_InitTitle/colTitle'\nimport rowTitle from './_InitTitle/rowTitle'\n\nconst initTable = function(table){\n    let tBody = table.querySelector('tbody');\n    // change the cursor style.\n    //改变样式 cursor:pointer\n    className.addClass(tBody,'tab_vis_tbody');\n    //event delegation 事件委托 tBody代理td事件\n    //利用Js的引用类型是浅拷贝的特点\n\n    let target = { ele:'', rowTitle:'', colTitle:'' }\n    target.rowTitle = rowTitle(table)\n    target.colTitle = colTitle(table)\n\n    let btnContainer = initBtn(target);\n    tBody.addEventListener('click',\n      ()=>{\n        let e = event || window.event;\n        // let target =e.target;\n        let left = e.clientX;\n        let top = e.clientY;\n        btnContainer.style.left = left+'px';\n        btnContainer.style.top = top+'px';\n        btnContainer.style.display = 'block'\n        target.ele=e.target\n      })\n}\n\nexport default initTable;\n","'use strict';\n\nconst rowTitle = (table)=>{\n  if(typeof table==\"object\")\n    {\n      let head = table.querySelector('thead');\n      let title = head.querySelector('tr')\n      return Array.from(title.children);\n    }\n  else\n      console.error(\"the table bind doesn't come from DOM \");\n}\n\nexport default rowTitle;\n","'use strict';\n\nconst colTitle = (table) => {\n  if(typeof table==\"object\")\n    {\n      let tbody = table.querySelector('tbody');\n      let selectArr  = tbody.children;\n      let tdArr = [];\n      let title =[];\n      for (let i =0; i<selectArr.length;i++){\n        title.push(selectArr[i].children[0])\n      };\n      return title;\n    }\n\n  else\n    console.error(\"the cell bind doesn't come from DOM \");\n}\n\nexport default colTitle;\n","'use strict';\n\nimport className from 'className';\n\n// import colData from 'colData'\n\nconst initBtn = function (target){\n  let btnContainer = document.createElement('div');\n  let btnBox = document.createElement('div');\n  // add style of btn\n  className.addClass(btnContainer,'tab_vis_btn_container')\n  className.addClass(btnBox,'tab_vis_btn')\n\n  let rowBtn = document.createElement('div');\n  let columnBtn = document.createElement('div');\n  rowBtn.innerHTML= 'ROW';\n  columnBtn.innerHTML = 'COL';\n  // append row and column button;\n  btnBox.appendChild(rowBtn);\n  btnBox.appendChild(columnBtn);\n  btnContainer.appendChild(btnBox);\n  // append button container\n  document.body.appendChild(btnContainer);\n  // row button event\n  rowBtn.addEventListener('click',()=>{\n    btnContainer.style.display='none';\n    bar()\n  })\n  // column button event\n  columnBtn.addEventListener('click',()=>{\n    btnContainer.style.display='none'\n\n  })\n  return btnContainer;\n}\n\n\nexport default initBtn;\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","ele","name","originClassName","className","addClassName","initial","vis","table","tBody","querySelector","target","rowTitle","colTitle","title","Array","from","children","console","error","selectArr","i","length","push","btnContainer","btnBox","rowBtn","columnBtn","innerHTML","body","addEventListener","display","bar","initBtn","e","event","window","left","clientX","top","clientY"],"mappings":"uCAAA,SAAqBA,EAAKC,QACX,IAARA,IAAiBA,MACtB,IAAIC,EAAWD,EAAIC,SAEnB,GAAKF,GAA2B,oBAAbG,SAAnB,CAEA,IAAIC,EAAOD,SAASC,MAAQD,SAASE,qBAAqB,QAAQ,GAC9DC,EAAQH,SAASI,cAAc,SACnCD,EAAME,KAAO,WAEI,QAAbN,GACEE,EAAKK,WACPL,EAAKM,aAAaJ,EAAOF,EAAKK,YAKhCL,EAAKO,YAAYL,GAGfA,EAAMM,WACRN,EAAMM,WAAWC,QAAUb,EAE3BM,EAAMK,YAAYR,SAASW,eAAed,4zBCpBnC,SAASe,EAAIC,GAElB,IAAIC,EAAkBF,EAAIG,UAEtBC,EAAeF,GAAoC,IAAjBA,EAAqB,GAAG,KAAKD,EACnED,EAAIG,UAAYC,UCElBC,SAAQ,EACRC,ICFc,SAASC,GACvB,IAAIC,EAAQD,EAAME,cAAc,SAGhCN,EAAmBK,EAAM,iBAIzB,IAAIE,GAAWV,IAAI,GAAIW,SAAS,GAAIC,SAAS,IAC7CF,EAAOC,SChBM,CAACJ,IAChB,GAAiB,iBAAPA,EACR,CACE,IACIM,EADON,EAAME,cAAc,SACdA,cAAc,MAC/B,OAAOK,MAAMC,KAAKF,EAAMG,UAGxBC,QAAQC,MAAM,0CDQEP,CAASJ,GAC3BG,EAAOE,SEjBM,CAACL,IAChB,GAAiB,iBAAPA,EACR,CACE,IACIY,EADQZ,EAAME,cAAc,SACTO,SAEnBH,KACJ,IAAK,IAAIO,EAAG,EAAGA,EAAED,EAAUE,OAAOD,IAChCP,EAAMS,KAAKH,EAAUC,GAAGJ,SAAS,IAEnC,OAAOH,EAITI,QAAQC,MAAM,yCFGIN,CAASL,GAE3B,IAAIgB,EGfQ,SAAUb,GACxB,IAAIa,EAAenC,SAASI,cAAc,OACtCgC,EAASpC,SAASI,cAAc,OAEpCW,EAAmBoB,EAAa,yBAChCpB,EAAmBqB,EAAO,eAE1B,IAAIC,EAASrC,SAASI,cAAc,OAChCkC,EAAYtC,SAASI,cAAc,OAmBvC,OAlBAiC,EAAOE,UAAW,MAClBD,EAAUC,UAAY,MAEtBH,EAAO5B,YAAY6B,GACnBD,EAAO5B,YAAY8B,GACnBH,EAAa3B,YAAY4B,GAEzBpC,SAASwC,KAAKhC,YAAY2B,GAE1BE,EAAOI,iBAAiB,QAAQ,KAC9BN,EAAahC,MAAMuC,QAAQ,OAC3BC,QAGFL,EAAUG,iBAAiB,QAAQ,KACjCN,EAAahC,MAAMuC,QAAQ,SAGtBP,EHZcS,GACnBxB,EAAMqB,iBAAiB,QACrB,KACE,IAAII,EAAIC,OAASC,OAAOD,MAEpBE,EAAOH,EAAEI,QACTC,EAAML,EAAEM,QACZhB,EAAahC,MAAM6C,KAAOA,EAAK,KAC/Bb,EAAahC,MAAM+C,IAAMA,EAAI,KAC7Bf,EAAahC,MAAMuC,QAAU,QAC7BpB,EAAOV,IAAIiC,EAAEvB"}